(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{19:function(e,t,a){"use strict";a.d(t,"a",(function(){return c})),a.d(t,"c",(function(){return s})),a.d(t,"b",(function(){return i})),a.d(t,"d",(function(){return l}));var r=a(22);a(50),a(54),a(52);var n={apiKey:"AIzaSyBWq2ijQg3f9QqIx3gDKsYda0wIeed5zqE",authDomain:"mybakingrecipe.firebaseapp.com",databaseURL:"https://mybakingrecipe-default-rtdb.firebaseio.com",projectId:"mybakingrecipe",storageBucket:"mybakingrecipe.appspot.com",messagingSenderId:"915152243690",appId:"1:915152243690:web:eabd6afc6124e887434093",measurementId:"G-R8B8QCRYLB",status:"production"};r.a.initializeApp(n);const c=r.a.auth(),s=r.a.firestore,i=r.a.firestore(),l=new r.a.auth.GoogleAuthProvider;r.a.storage()},21:function(e,t,a){"use strict";a.d(t,"b",(function(){return u})),a.d(t,"c",(function(){return m})),a.d(t,"d",(function(){return d}));var r=a(20),n=a(19);const c=(e,t)=>{sessionStorage.setItem(e,t)};var s=a(7);const i={userId:"",displayName:""},{actions:l,reducer:o}=Object(r.b)({name:"user",initialState:i,reducers:{setUser:(e,{payload:{name:t,value:a}})=>({...e,[t]:a}),clearUser:e=>({...e,...i})}}),u=()=>async e=>{try{const{user:t}=await(async()=>await n.a.signInWithPopup(n.d))(),a=(null==t?void 0:t.email)||"";c("user",a),e(l.setUser({name:"userId",value:a}))}catch(e){throw new Error(e.message)}},m=()=>async e=>{var t;await(async()=>{await n.a.signOut()})(),t="user",sessionStorage.removeItem(t),e(l.clearUser())},d=()=>e=>{setTimeout(()=>{const t=n.a.currentUser,a=(null==t?void 0:t.email)||(r="user",sessionStorage.getItem(r))||"";var r;Object(s.d)(a)?(c("user",a),e(l.setUser({name:"userId",value:a}))):e(l.clearUser())},500)},{setUser:p,clearUser:g}=l;t.a=o},29:function(e,t,a){"use strict";a.d(t,"b",(function(){return o}));var r=a(20),n=a(19),c=a(7);const s=async e=>{const t=n.b.collection("recipes");let a;var r;return a=Object(c.c)(e)?await t.orderBy("created","desc").limit(12).get():await t.orderBy("created","desc").startAfter((r=(null==e?void 0:e.created)||"",n.c.Timestamp.fromDate(new Date(r)))).limit(12).get(),a.docs},{actions:i,reducer:l}=Object(r.b)({name:"recipes",initialState:{recipesBook:[],lastRecipe:{recipe:null,isLast:!1}},reducers:{setRecipes:(e,{payload:t})=>({...e,recipesBook:[...t]}),setLastRecipe:(e,{payload:{name:t,value:a}})=>({...e,lastRecipe:{...e.lastRecipe,[t]:a}}),addRecipes:(e,{payload:t})=>({...e,recipesBook:[...e.recipesBook,...t]})}}),o=()=>async(e,t)=>{const{recipes:{lastRecipe:{recipe:a,isLast:r}}}=t();if(r)return;const n=await s(a);if(Object(c.c)(n))return void e(i.setRecipes([]));const l=n.map(e=>Object(c.b)(e)),o=l.length<c.a;e(i.addRecipes(l)),e(i.setLastRecipe({name:"recipe",value:l.splice(-1)[0]})),e(i.setLastRecipe({name:"isLast",value:o}))},{setRecipes:u,setLastRecipe:m,addRecipes:d}=i;t.a=l},39:function(e,t,a){"use strict";var r=a(1),n=a.n(r),c=a(5),s=a(15);var i=()=>n.a.createElement("div",{className:"modal"},n.a.createElement("div",{className:"loadingAnimation"})),l=a(16),o=a(7);var u=({userId:e,onSignIn:t,onSignOut:a})=>n.a.createElement("nav",{className:"header"},n.a.createElement("div",null,n.a.createElement(l.b,{to:"/"},n.a.createElement("img",{src:"assets/images/home.svg",alt:"Home",className:"homeImg"})),n.a.createElement(l.b,{to:"/"},n.a.createElement("h1",{className:"homeH1"},"My Baking Recipe"))),e?n.a.createElement("div",{className:"userInfo"},n.a.createElement("p",{className:"userName"},n.a.createElement(l.b,{to:"/"},Object(o.e)(e)("@"))),n.a.createElement("button",{className:"headerButton",type:"button"},"New Recipe"),n.a.createElement("button",{className:"headerButton",type:"button",onClick:a},"Logout"),n.a.createElement("img",{className:"userIcon",src:"assets/images/new-recipe.svg",alt:"New Recipe"}),n.a.createElement("img",{className:"userIcon",src:"assets/images/close-outline.svg",onClick:a,alt:"Logout"})):n.a.createElement(n.a.Fragment,null,n.a.createElement("button",{className:"headerButton",type:"button",onClick:t},"Sign in (Google)"),n.a.createElement("img",{className:"userIcon",src:"assets/images/login-google.svg",onClick:t,alt:"singIn"}))),m=a(21);var d=()=>{const e=Object(s.b)(),{user:{userId:t}}=Object(s.c)(e=>({user:e.user}));return n.a.createElement(u,{userId:t,onSignIn:()=>{e(Object(m.b)())},onSignOut:()=>{e(Object(m.c)())}})};var p=()=>n.a.createElement("div",{className:"theNotFoundModal"},n.a.createElement("img",{className:"theNotFoundImage",id:"displayImage",src:"assets/images/page-not-found.svg",alt:"recipe"}),n.a.createElement("p",{className:"theNotFoundTitle"},"해당 페이지를 찾을 수 없습니다."));var g=()=>n.a.createElement(p,null);var b=({root:e=null,target:t,onIntersect:a,threshold:n=1,rootMargin:c="50px"})=>{Object(r.useEffect)(()=>{const r=new IntersectionObserver(a,{root:e,rootMargin:c,threshold:n});if(!Object(o.c)(t))return r.observe(t),()=>r.unobserve(t)},[t,e,c,a,n])};var E=({recipe:e})=>{const{id:t,image:a,title:r,description:c,created:s,userId:i}=e;return n.a.createElement("li",{className:"recipeItem"},n.a.createElement(l.b,{to:"/recipe/"+t},n.a.createElement("figure",{className:"card-image",style:{backgroundImage:`url(${a||"assets/images/cookie.jpeg"})`}},n.a.createElement("img",{src:a||"assets/images/cookie.jpeg",alt:"recipe"})),n.a.createElement("div",{className:"card-desc"},n.a.createElement("h1",null,r),n.a.createElement("p",null,c.length>30?c.substring(0,30)+"...":c),n.a.createElement("p",{className:"card-created"},null==s?void 0:s.substr(0,10)),n.a.createElement("p",null,"by"," ",n.a.createElement("strong",null,Object(o.e)(i)("@"))))))};const v=({recipesBook:e})=>Object(o.c)(e.length)?n.a.createElement("div",null,"Empty"):n.a.createElement("ul",{className:"recipeList"},e.map(e=>n.a.createElement(E,{key:e.id,recipe:e})));var f=n.a.memo(v);var I=()=>{const{recipes:e}=Object(s.c)(e=>({recipes:e.recipes})),{recipesBook:t}=e;return Object(o.c)(t.length)?n.a.createElement(i,null):n.a.createElement("article",null,n.a.createElement(f,{recipesBook:t}))},h=a(29);var y=()=>{const e=Object(s.b)(),[t,a]=Object(r.useState)(null);return b({target:t,onIntersect:([{isIntersecting:t}])=>{t&&e(Object(h.b)())}}),n.a.createElement(n.a.Fragment,null,n.a.createElement(I,null),n.a.createElement("div",{ref:a}))};t.a=()=>{const e=Object(s.b)();return Object(r.useEffect)(()=>{e(Object(m.d)())},[e]),n.a.createElement(n.a.Fragment,null,n.a.createElement(r.Suspense,{fallback:n.a.createElement(i,null)},n.a.createElement(d,null),n.a.createElement("div",{className:"main"},n.a.createElement(c.c,null,n.a.createElement(c.a,{exact:!0,path:"/",component:y}),n.a.createElement(c.a,{component:g})))))}},40:function(e,t,a){"use strict";var r=a(20),n=a(18),c=a(21),s=a(29);var i=Object(n.b)({user:c.a,recipes:s.a});const l=Object(r.a)({reducer:i});t.a=l},41:function(e,t,a){"use strict";a.r(t),function(e){var t=a(1),r=a.n(t),n=a(26),c=a.n(n),s=a(15),i=a(16),l=a(39),o=a(40);c.a.render(r.a.createElement(s.a,{store:o.a},r.a.createElement(i.a,{basename:e.env.PUBLIC_URL},r.a.createElement(l.a,null))),document.getElementById("app"))}.call(this,a(35))},7:function(e,t,a){"use strict";a.d(t,"a",(function(){return r})),a.d(t,"c",(function(){return n})),a.d(t,"d",(function(){return c})),a.d(t,"e",(function(){return s})),a.d(t,"b",(function(){return l}));const r=12,n=e=>!e,c=e=>!n(e),s=e=>t=>e.split(t)[0],i=e=>e.toDate().toISOString(),l=e=>{const{created:t,updated:a}=e.data();return{...e.data(),id:e.id,created:i(t),updated:i(a)}}}},[[41,1,4,11,8,7,12,10,5,14,9,6,13,3,2]]]);